language: node_js
node_js:
- 4.2.3
matrix:
  fast_finish: true
  allow_failures:
  - node_js: 5.1.1
before_script:
- npm install -g bower grunt-cli
- bower install
services: mongodb
after_script: "./scripts/sonar.sh"
before_deploy: source ./scripts/pre-release.sh
deploy:
  provider: releases
  skip_cleanup: true
  file: nodejs-getting-started-$BUILD_VERSION.tar.gz
  on:
    tags: false
    all_branches: true
    condition: "$TRAVIS_BRANCH = $PRE_RELEASE_BRANCH || $TRAVIS_BRANCH = $RELEASE_BRANCH"
  api_key:
    secure: FvyiRe+uH2Zkvto+yi9O0nvHBOxZ8qnevUIv3wYmYtqF9T5G+0kpLfPjh0APnohPKbK7ck/sb2qReMtg89o2/otM5m1AaDEa92VdSnAKMqVIPw6Rumit7adskFlY2l7GuHB03d4fu86N6XNqz2nchKyoLBfiEWSqwqgPGTU8HV38zGrCPhtvFAtjSD/TyvskDrZM1RlKsnTTtUPuDTYFg59PuLj4LUQh2cJpg+VMaofceSou7KPsQdBHgKdGSgyGKIv/XjS62GZLrTktc8Y2vEAxxgbqCS2j0XdPPgC9z4dO03OkStkDY7v+oFPUTeNTtlHzwtybECCgUEIlzYJ8wv3lOHgdLIIqde4uwOJPPnziJKf4oGN090A1EFfMJX+vKn24fkbnrCb4Gl9xt5aw0Mo1y/RJXcWAP2Le3IoKaJ1LX47tviL62qoqeon5gX1FilOFwAFlqn6DvqjYQA1FIG1e6pZgZt7KxETNKbQ1WpAdTTslnOnXA5vwGLH3wEdWENMQFH2WnWdD13wxvrIsG8aPKDwUw82xd901p8mHpH5Ls5gk3iv5clwF+0U92L/PLTlEmMlcyE8i7606uC9BiPLItqfJ6UR95EpnDNw8LmQfrpcrkugEVQha8qjn1aWokRRURBmQ178IOyXgtGFR/uFZtrbOk8dQTCSCOXzF/20=
env:
  global:
  - PRE_RELEASE_BRANCH=dev
  - RELEASE_BRANCH=master
  - secure: g23movvDfnWKp5bbh7/JHF9WTg0WOgLpNJwK/mRhdHKn4g0aZTyr2/hhats999QtA8YWsTfuG+ihSmgtjuNkMmBTt1/EdYrFQLdVvZOc/ex7OgeImLFaDVLjQa02SZqS1H3Z4WbueiW2e+jL0RlocMNysjAX5Z8RJxhbw2cBRa6R12yBQePYtbDrd8uDnCxtA2TL3a/SXHRWBpmWePQT8oG5K+aDovTML954yZfmPCpoPdmfUzgWx4WhEwOE3bId/G404Fa9/faFXkmZQfHZP/Px9MGJxsrJ6Mu+Mgxh8IKs8zKMXG+KPxV//EEr5UxnlrnMZb/3gJn1pmOcRdExB9Xss9b0QRtQCYsnU02guo/uf7iT2yRxjqxxV//wi9dyhaggtQ3nWTwCFRJ47EURQn7IHL/Fxei7bblQFQqOUfdZ5SA+RglHQsbTp5Zz5mYZBHQrZl+UDqwNInV+ADIWhJf0gUnn44qCFrFH+Okj9iSEF8szsVCcblXEJFHShDMB/Gw7/1rM8BV0E4VE5rGzKM6WYnw/BVRVxdsdBAm+ahvcnIxVGhmQS7rUSwFRLs5STf0CE1FTskqo3N0KVhye4nhrQZtHZA0olJ/kq5NSdsGIKEpJwak1mlwOsvtmOyKdnQUbZ9KBUVGvG7ryPud09fhY2dVehfXSb+FDTP8P9qA=
  - secure: O+Cqk931Vp9xRGTCIuHAWVbcucBK9yK1Z2QZrjVmxC3HCVnc8WUukSbvUsLZP9SvI5TokR3fXJ6NFPzZuj9m1m2INOZh1wgf4Ds/uvMj5H+HM6meeH1fcm6jT+Wb+iHzaGVX6rfS1Urxh+2a5t7ORLTsPsgwrAqTLUknizY1luVTzLce9UcueX6zCANPLvZc0W/tu+Qc7cSdEZIb5Mdb+uGZdUtSpGbYl8/BKYxS5o/SK2zMROfoQH7X2fQKxJTqHiXvHRo4HPkrE5nbqVyUUTe049l6zRJqxetrvqUPXT7Sv3fBT3agrk0QVrLySh1wKo1nG6F/9jzn1nG+IHK73L74zZCbHz4PaGRSlRzAnJ/nTmpMyFY5Rr/IFqW2YVVzYMagvSvz7UGrG9cQTHwHh+VoACG/iiDazxLQ+ygoMzoz6Acwg/v50VHg2t9y1wX+EwbgO64NOBAciUm0to0Ggo+VelBk03+ooRyvjIdG5Rv9pgZpolBhN4td8+zTRnjRBOU0nDmr66WUb0vncL0gcrgPcKOZyxI0bCOrub7pAGwqfqcZ8HH6Ih030WNNC/f1RBHE5KW7im1/xjB2HoO7OPO8jLbI2FMdMm0NPgeQbexynSCpvif6INj17V4H8PNJlOJtWxv/yErpBD57ZvplwSdlfdgfKqK94Hh2RiWZSYA=
  - secure: PFfbsBbsDy6zwqfTMTigGV8f2uNPTbS9Pu3uvrhUZGlHjKioo9yGWYpGtEHVeuPB+NvDJLjmoYbTw0TtSThTxL4GNJLeFPqxaHXs02yzUkPOHTiKrkUAVdQ13J+ladtZp1jqTOYNLqxdCgrgT/anixsGXKSuRXkCBmm3imSKy7XdNKg6hrreqoM9kaQirhUGexWSb0xW7xvkkkYE08W78Ezkc1FxLMqW8gfxSaGQ8albF34G7JIUi/G1npD5D+Z4E/yUgKqfZ+oAnyba0XE2ZjCLoQfgWYAxlUS8zSsjQJ6iHX4HABSoGPOTXsGj0BQAWt8xuL3ONpxgN9DEnQWmflLyU4lyp2WuPUrM14WMCmO1mv2F82CZq+Uxr05M6a/C4BBwpctqBflfVIZxf5dL+cdq/28xVgcssb2CloOpz7g6GKVpp5ECC9VdWal6FKSlAgJpbQi5y3WO2f7ANm3OzULWyI61Q9xOCR1TCFOE52Lw2mZQPBz05pdZYCZeM02DEeuhJt1m0vVcJ+60EsOtcsIOI648r5m2DvmnmYBrip2pawoYGFYILUz64qHKUJ2KkAZTeNUkQMa9gAFVnVwFhfv+jBx/PR625kgq7OsPC+c+2xGZBoYNoB0z3dNEaNq3auzt1jLGiVGddp1ML4E6+FFDPnI/yE+oqrrWRtQwT6E=
  - secure: Rfe+0jKFTO3VxKOJUzeS8slZZGvAy8TqNB8hNhIYM4rUSEp4mM6j/A2JjAKY21YpCyk2mItAxb3Nd2IkFNfVZFuN08LN7P6ffAqYvpStjrdi9LNZxBFh/ZOS74x8qEW5DP5SHxFUiLX7h6mEKivlBSrXGROtvlIRweKTmQjfimDDudS/wSQuZYt2xn5SdtLPuDkZbMi3ZqncmylGXoSxMcchqpfJTGxIt8J4lzFSkRMudMmSLK0ZQfGntRVpFw0Qo3PNU+pAc12SckZjbyONJPLDgXljVa9OxSU9HvS+ApNtHF4nqwhw13sXzdGQ763/eQAEhDyskOx8xTgwc0UaqonT2Iqkm0ZXZ05HR4nlrNzlVWxzchsTEPu36tH3cV2hQ/4Q89PPjA08TRW320ewCLyAQaAGaz73sz+/HKZBsrFUFLINV74l1zv3Bll3xQCbclugGOMGyvlHB1tJhPutkHGq0s9qNr8/KR6ZKVxEEud0ZzLN70eetFVwni6DsoEmWtrikR1V41ficSjtVIPZSmD4tirR++dyU9ifIKt8azykMrc/9fd7CeN+NPyt1kbLN7gfZVdhG5+Ty/qN8y3iPEBTwhw8+nDbDPZQQO/Ud/RIMEp8aHziEHq4+frHhKNIA5OOgBpjjDlSpDsZ2acqFfsvZNxIS5Y5xGDvV52LiTg=
